# Задание 21

## Отчёт

### 1. Это не баг

#### Case1

Система аномально вела себя при старте и настройке ролей пользователей. После небольшого исследования коллеги увидели,
что сторонняя библиотека перетирает наши настройки. Приняли решение подлатать и поставить задержку инициализации ролей в
нашем коде.

#### Case2

Система была выведена в продакшн. Внезапно выяснилось, что на фронте не работает один из фильтров. Нормальный фикс
требовал переписать логику фильтрации и разделить различные фильтры. В итоге под давлением бизнеса сделали заплатку и
вывели в прод в течение 24 часов.

### 2. Это не баг (а что-то другое)

#### Case1

Бизнес поэтапно добавлял критерии поиска в определённое API. В итоге код данного сервиса разросся до нескольких тысяч
строк. Причиной, в том числе, послужил copy-paste кода.

#### Case2

Сервис писался в условиях сжатых сроков. В итоге DTO и мапперы не были вынесены в отдельный слой и жили вместе с
сервисом в одном файле, что сильно затруднило последующую разработку.

### 3. Это сбивает людей с толку

#### Case1

Проектирование некоторого API проходило в несколько этапов. В проектировании приняли участие несколько аналитиков с
разным уровнем владения английским языком. В итоге часть API содержала названия на английском языке, часть состояла из
русских терминов, написанных латиницей. Кроме того, смысловое наполнение некоторых терминов в нашем API не совпадало с
их обычным значением в жизни. В итоге каждый новый потребитель натыкался в определённый момент на несоответствие и
тратил время на приведение в соответствие уже написанного кода.

#### Case2

Изучая паттерны проектирования, я старался применить изученное на практике. Однажды мне удалось опробовать паттерн
"Цепочка обязанностей". Для вновь пришедших коллег это стало откровением, они долго пытались уловить логику
происходящего ибо ещё не успели получить практику работы с этим паттерном.

### 4. Это хрупкость

#### Case1

Был создан механизм очистки БД от устаревших данных. Через некоторое время (пара недель) стали приходить уведомления о
перерасходе выделенных ресурсов на БД. После исследования выяснилось, что реализованный алгоритм удаления не рассчитан
на столь большой объем данных и очистка БД отнимает все выделенные ресурсы.

#### Case2

Был создан механизм очистки БД от устаревших данных. Через некоторое время (месяц) выяснилось, что очистка БД работает
некорректно, чистится не всё. После исследования удалось понять, что механизм удаления не учитывал работу в
распределённой среде, робот очистки запускался одновременно на нескольких машинах, что приводило к коллизиям.

### 5. Не соответствует требованиям OSHA

#### Case1

Пришёл на новый проект. Увидел, что неверно реализована работа с БД. Решил поправить. В итоге это вылилось в несколько
месяцев кропотливого исправления и тюнинга.

#### Case2

Провёл код ревью для соседней команды. Подсветил пару кривых моментов. Чтобы их поправить коллегам пришлось в итоге
написать тесты и два раза переписать сервисный слой.
